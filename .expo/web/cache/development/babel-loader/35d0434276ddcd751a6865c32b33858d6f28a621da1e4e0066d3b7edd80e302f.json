{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase } from \"firebase/database\";\nimport { getFirestore, collection, getDocs, addDoc } from \"firebase/firestore\";\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { query, where } from 'firebase/firestore';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDtkmG9Z7HWCfGHjM8omgVA_LCNemv5wmQ\",\n  authDomain: \"infx490-d9876.firebaseapp.com\",\n  databaseURL: \"https://infx490-d9876-default-rtdb.firebaseio.com\",\n  projectId: \"infx490-d9876\",\n  storageBucket: \"infx490-d9876.appspot.com\",\n  messagingSenderId: \"602189178002\",\n  appId: \"1:602189178002:web:5d56c140f3ef5a8acef24b\",\n  measurementId: \"G-MNNEM90NZC\"\n};\nvar app = initializeApp(firebaseConfig);\nvar firestore = getFirestore(app);\nvar auth = getAuth(app);\nvar db = getDatabase(app);\nvar userId;\nvar unsubscribeAuthState = onAuthStateChanged(auth, function (user) {\n  if (user) {\n    userId = user.uid;\n    var colUser = collection(firestore, 'signUp');\n    var userQuery = query(colUser, where('userId', '==', userId));\n    getDocs(userQuery).then(function (snapshot) {\n      snapshot.forEach(function (doc) {\n        var userType = doc.data().userType;\n        console.log('UserType:', userType);\n        someFunction(userType);\n      });\n    }).catch(function (error) {\n      console.error('Error getting documents: ', error);\n    });\n  }\n});\nfunction someFunction(userType) {\n  console.log('UserType in someFunction:', userType);\n}\nuseEffect(function () {\n  return function () {\n    return unsubscribeAuthState();\n  };\n}, []);\nexport { auth, db, firestore };","map":{"version":3,"names":["initializeApp","getAuth","getDatabase","getFirestore","collection","getDocs","addDoc","onAuthStateChanged","query","where","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firestore","auth","db","userId","unsubscribeAuthState","user","uid","colUser","userQuery","then","snapshot","forEach","doc","userType","data","console","log","someFunction","catch","error","useEffect"],"sources":["/Users/ipekkaya/Documents/Github/nativeOTapp/firebase.js"],"sourcesContent":["// for verison 10.5.2\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase } from \"firebase/database\";\nimport { getFirestore, collection, getDocs, addDoc } from \"firebase/firestore\";\n\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { query, where } from 'firebase/firestore';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDtkmG9Z7HWCfGHjM8omgVA_LCNemv5wmQ\",\n  authDomain: \"infx490-d9876.firebaseapp.com\",\n  databaseURL: \"https://infx490-d9876-default-rtdb.firebaseio.com\",\n  projectId: \"infx490-d9876\",\n  storageBucket: \"infx490-d9876.appspot.com\",\n  messagingSenderId: \"602189178002\",\n  appId: \"1:602189178002:web:5d56c140f3ef5a8acef24b\",\n  measurementId: \"G-MNNEM90NZC\",\n};\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst firestore = getFirestore(app); // Use getFirestore to get the Firestore instance\n\nconst auth = getAuth(app);\nconst db = getDatabase(app);\n\n// this is how we get the data do not delete this we can delete it later.\n// get collection\n// const colRef = collection(firestore, 'patients'); \n\n// getDocs(colRef)\n//   .then((snapshot) =>  {\n//     snapshot.forEach((doc) => {\n//       console.log(doc.id, \" => \", doc.data());\n//     });\n//   })\n//   .catch((error) => {\n//     console.error(\"Error getting documents: \", error);\n//   });\n\n\n// const colUser = collection(firestore, 'signUp');\n\n// getDocs(colUser)\n//   .then((snapshot) => {\n//     snapshot.forEach((doc) => {\n//       console.log(doc.id, \" +> \", doc.data());\n//     });\n//   })\n//   .catch((error) => {\n//     console.error(\"Error getting documents: \", error);\n//   });\n\n\n\n \n\n\n\n// Get the currently authenticated user\n\nlet userId;\n\nconst unsubscribeAuthState = onAuthStateChanged(auth, (user) => {\n  if (user) {\n    userId = user.uid;\n\n    // Create a reference to the 'signUp' collection\n    const colUser = collection(firestore, 'signUp');\n\n    // Create a query that filters documents based on the userId\n    const userQuery = query(colUser, where('userId', '==', userId));\n\n    // Execute the query\n    getDocs(userQuery)\n      .then((snapshot) => {\n        snapshot.forEach((doc) => {\n          // Access the userType from the document data\n          const userType = doc.data().userType;\n          console.log('UserType:', userType);\n\n          // Now you can use userType within this scope or pass it to another function\n          // For example, you can call a function passing userType as an argument\n          someFunction(userType);\n        });\n      })\n      .catch((error) => {\n        console.error('Error getting documents: ', error);\n      });\n  }\n});\n\n// Define someFunction to use userType\nfunction someFunction(userType) {\n  // Do something with userType\n  console.log('UserType in someFunction:', userType);\n}\n\n// Make sure to unsubscribe from the onAuthStateChanged listener when the component unmounts\n// or when you no longer need to listen for authentication state changes\n// For example, in a React component, you can use useEffect for cleanup\nuseEffect(() => {\n  return () => unsubscribeAuthState();\n}, []);\n\n\n\n// // get collection\n// const colRefworkout = collection(firestore, 'workoutPlan'); \n\n// getDocs(colRefworkout)\n//   .then((snapshot) =>  {\n//     snapshot.forEach((doc) => {\n//       console.log(doc.id, \" => \", doc.data());\n//     });\n//   })\n//   .catch((error) => {\n//     console.error(\"Error getting documents: \", error);\n//   });\n\n\n\nexport { auth, db, firestore };\n\n\n\n"],"mappings":"AACA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,YAAY,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAQ,oBAAoB;AAE9E,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SAASC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AAGjD,IAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,+BAA+B;EAC3CC,WAAW,EAAE,mDAAmD;EAChEC,SAAS,EAAE,eAAe;EAC1BC,aAAa,EAAE,2BAA2B;EAC1CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAED,IAAMC,GAAG,GAAGnB,aAAa,CAACU,cAAc,CAAC;AACzC,IAAMU,SAAS,GAAGjB,YAAY,CAACgB,GAAG,CAAC;AAEnC,IAAME,IAAI,GAAGpB,OAAO,CAACkB,GAAG,CAAC;AACzB,IAAMG,EAAE,GAAGpB,WAAW,CAACiB,GAAG,CAAC;AAqC3B,IAAII,MAAM;AAEV,IAAMC,oBAAoB,GAAGjB,kBAAkB,CAACc,IAAI,EAAE,UAACI,IAAI,EAAK;EAC9D,IAAIA,IAAI,EAAE;IACRF,MAAM,GAAGE,IAAI,CAACC,GAAG;IAGjB,IAAMC,OAAO,GAAGvB,UAAU,CAACgB,SAAS,EAAE,QAAQ,CAAC;IAG/C,IAAMQ,SAAS,GAAGpB,KAAK,CAACmB,OAAO,EAAElB,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEc,MAAM,CAAC,CAAC;IAG/DlB,OAAO,CAACuB,SAAS,CAAC,CACfC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBA,QAAQ,CAACC,OAAO,CAAC,UAACC,GAAG,EAAK;QAExB,IAAMC,QAAQ,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC,CAACD,QAAQ;QACpCE,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,QAAQ,CAAC;QAIlCI,YAAY,CAACJ,QAAQ,CAAC;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBJ,OAAO,CAACI,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAGF,SAASF,YAAYA,CAACJ,QAAQ,EAAE;EAE9BE,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEH,QAAQ,CAAC;AACpD;AAKAO,SAAS,CAAC,YAAM;EACd,OAAO;IAAA,OAAMhB,oBAAoB,CAAC,CAAC;EAAA;AACrC,CAAC,EAAE,EAAE,CAAC;AAmBN,SAASH,IAAI,EAAEC,EAAE,EAAEF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}